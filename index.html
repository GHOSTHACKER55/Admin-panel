<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fajar Collection | Mini Store</title>

<style>
*{box-sizing:border-box}
body{
    margin:0;
    font-family:Arial,Helvetica,sans-serif;
    background:#fff;
    color:#333;
}

/* ---------- LOGIN ---------- */
#loginPage{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}
.login-box{
    width:90%;
    max-width:350px;
    padding:25px;
    border-radius:12px;
    box-shadow:0 10px 30px rgba(0,0,0,.1);
    text-align:center;
}
.login-box h1{
    margin:0;
    font-size:26px;
    background:linear-gradient(90deg,#ff6a00,#ffb347);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
}
.login-box p{color:#777;margin-bottom:20px}
.login-box input{
    width:100%;
    padding:12px;
    margin:8px 0;
    border:1px solid #ddd;
    border-radius:8px;
}
.login-box button{
    width:100%;
    padding:12px;
    background:#ff6a00;
    border:none;
    color:#fff;
    font-size:16px;
    border-radius:8px;
    margin-top:10px;
    cursor:pointer;
}
.login-box .link{
    margin-top:12px;
    color:#ff6a00;
    cursor:pointer;
    font-size:14px;
}

/* ---------- HEADER ---------- */
header{
    padding:15px;
    text-align:center;
    box-shadow:0 2px 8px rgba(0,0,0,.08);
}
header h1{
    margin:0;
    font-size:24px;
    background:linear-gradient(90deg,#ff6a00,#ffb347);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
}
header small{
    color:#888;
}

/* ---------- CONTENT ---------- */
.page{
    display:none;
    padding:15px;
    padding-bottom:80px;
}
.page.active{display:block}

/* ---------- PRODUCTS ---------- */
.product{
    display:flex;
    gap:12px;
    background:#fff;
    border-radius:12px;
    box-shadow:0 4px 15px rgba(0,0,0,.08);
    padding:10px;
    margin-bottom:15px;
}
.product img{
    width:110px;
    height:110px;
    border-radius:10px;
    object-fit:cover;
}
.product h3{margin:0}
.price{font-weight:bold;margin:6px 0}
.product button{
    background:#ff6a00;
    border:none;
    color:#fff;
    padding:8px 12px;
    border-radius:6px;
    cursor:pointer;
}

/* ---------- MESSAGES ---------- */
.message{
    background:#fff3e6;
    border-left:5px solid #ff6a00;
    padding:12px;
    border-radius:8px;
    margin-bottom:10px;
}

/* ---------- CART ---------- */
.cart-item{
    background:#fff;
    padding:10px;
    border-radius:10px;
    box-shadow:0 3px 10px rgba(0,0,0,.08);
    margin-bottom:10px;
}

/* ---------- ACCOUNT ---------- */
.account-box{
    background:#fff;
    padding:15px;
    border-radius:12px;
    box-shadow:0 5px 15px rgba(0,0,0,.1);
}

/* ---------- ADMIN BUTTON ---------- */
.admin-btn{
    position:fixed;
    top:15px;
    right:15px;
    width:45px;
    height:45px;
    border-radius:50%;
    background:#ff6a00;
    color:#fff;
    border:none;
    font-size:22px;
    cursor:pointer;
}

/* ---------- ADMIN MODAL ---------- */
.modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.5);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:999;
}
.modal-box{
    background:#fff;
    width:90%;
    max-width:350px;
    padding:20px;
    border-radius:12px;
}
.modal-box textarea,
.modal-box input{
    width:100%;
    padding:10px;
    margin-top:8px;
    border:1px solid #ddd;
    border-radius:8px;
}
.modal-box button{
    width:100%;
    margin-top:10px;
    padding:10px;
    background:#ff6a00;
    color:#fff;
    border:none;
    border-radius:8px;
}

/* ---------- BOTTOM NAV ---------- */
.bottom-nav{
    position:fixed;
    bottom:0;
    left:0;
    right:0;
    height:60px;
    background:#fff;
    box-shadow:0 -2px 10px rgba(0,0,0,.15);
    display:flex;
}
.bottom-nav div{
    flex:1;
    text-align:center;
    font-size:13px;
    padding-top:6px;
    cursor:pointer;
}
.bottom-nav div.active{color:#ff6a00;font-weight:bold}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginPage">
    <div class="login-box">
        <h1>Fajar Collection</h1>
        <p>Mini Store</p>
        <input id="username" placeholder="Username">
        <input id="password" type="password" placeholder="Password">
        <button onclick="login()">Login</button>
        <div class="link" onclick="register()">Create Account</div>
    </div>
</div>

<!-- MAIN APP -->
<div id="app" style="display:none">

<header>
    <h1>Fajar Collection</h1>
    <small>Mini Store by Fajar Collection</small>
</header>

<button class="admin-btn" onclick="openAdmin()">+</button>

<!-- HOME -->
<div id="home" class="page active">
    <div class="product">
        <img src="https://i.imgur.com/Qw7npIg.jpg">
        <div>
            <h3>Women Dress</h3>
            <div class="price">Rs 2500</div>
            <button onclick="addToCart('Women Dress',2500)">Add to Cart</button>
        </div>
    </div>
</div>

<!-- MESSAGES -->
<div id="messages" class="page"></div>

<!-- CART -->
<div id="cart" class="page"></div>

<!-- ACCOUNT -->
<div id="account" class="page">
    <div class="account-box">
        <p><b>Logged in as:</b> <span id="accUser"></span></p>
        <button onclick="logout()">Logout</button>
    </div>
</div>

<!-- BOTTOM NAV -->
<div class="bottom-nav">
    <div class="active" onclick="showPage('home',this)">Home</div>
    <div onclick="showPage('messages',this)">Messages</div>
    <div onclick="showPage('cart',this)">Cart</div>
    <div onclick="showPage('account',this)">Account</div>
</div>

</div>

<!-- ADMIN MODAL -->
<div class="modal" id="adminModal">
    <div class="modal-box">
        <h3>Admin Message</h3>
        <textarea id="adminMsg" placeholder="50% OFF available now!"></textarea>
        <button onclick="sendMessage()">Send Message</button>
    </div>
</div>

<script>
const ADMIN_PASSWORD="11222211";
let currentUser=null;

function login(){
    const u=username.value,p=password.value;
    const users=JSON.parse(localStorage.getItem("users")||"{}");
    if(users[u]&&users[u]===p){
        startApp(u);
    }else alert("Invalid login");
}
function register(){
    const u=username.value,p=password.value;
    if(!u||!p) return alert("Fill all");
    const users=JSON.parse(localStorage.getItem("users")||"{}");
    users[u]=p;
    localStorage.setItem("users",JSON.stringify(users));
    alert("Account created!");
}

function startApp(user){
    currentUser=user;
    loginPage.style.display="none";
    app.style.display="block";
    accUser.innerText=user;
    loadMessages();
    loadCart();
}

function logout(){
    location.reload();
}

function showPage(id,el){
    document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
    document.getElementById(id).classList.add("active");
    document.querySelectorAll(".bottom-nav div").forEach(d=>d.classList.remove("active"));
    el.classList.add("active");
}

function addToCart(name,price){
    const carts=JSON.parse(localStorage.getItem("carts")||"{}");
    carts[currentUser]=carts[currentUser]||[];
    carts[currentUser].push({name,price});
    localStorage.setItem("carts",JSON.stringify(carts));
    alert("Added to cart");
}

function loadCart(){
    const carts=JSON.parse(localStorage.getItem("carts")||"{}");
    cart.innerHTML="";
    (carts[currentUser]||[]).forEach(i=>{
        cart.innerHTML+=`<div class="cart-item">${i.name} - Rs ${i.price}</div>`;
    });
}

function openAdmin(){
    const pass=prompt("Admin password");
    if(pass===ADMIN_PASSWORD){
        adminModal.style.display="flex";
    }
}

function sendMessage(){
    const msgs=JSON.parse(localStorage.getItem("messages")||"[]");
    msgs.unshift(adminMsg.value);
    localStorage.setItem("messages",JSON.stringify(msgs));
    adminModal.style.display="none";
    loadMessages();
}

function loadMessages(){
    const msgs=JSON.parse(localStorage.getItem("messages")||"[]");
    messages.innerHTML="";
    msgs.forEach(m=>{
        messages.innerHTML+=`<div class="message">${m}</div>`;
    });
}
</script>

</body>
</html>