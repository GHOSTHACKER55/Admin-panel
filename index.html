<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fajar Collection</title>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#f4f6f8;
}
header{
  background:#fff;
  padding:15px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
  box-shadow:0 2px 5px rgba(0,0,0,.1);
}
.container{
  padding:15px;
  max-width:1100px;
  margin:auto;
}
.admin-btn{
  background:#ff6a00;
  color:#fff;
  border:none;
  padding:10px 14px;
  border-radius:6px;
  cursor:pointer;
  margin-bottom:15px;
}
.products{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
  gap:15px;
}
.card{
  background:#fff;
  border-radius:10px;
  padding:10px;
  box-shadow:0 2px 8px rgba(0,0,0,.1);
}
.card img{
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:8px;
}
.card h3{
  margin:8px 0 4px;
}
.price{
  color:#ff6a00;
  font-weight:bold;
}
.btn{
  width:100%;
  padding:8px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  margin-top:6px;
}
.buy{
  background:#25D366;
  color:#fff;
}
.edit{
  background:#007bff;
  color:#fff;
}
.delete{
  background:#dc3545;
  color:#fff;
}

/* modal */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.4);
  display:none;
  justify-content:center;
  align-items:center;
}
.modal-box{
  background:#fff;
  padding:15px;
  width:90%;
  max-width:400px;
  border-radius:10px;
}
.modal-box input,textarea{
  width:100%;
  padding:8px;
  margin:6px 0;
}
.save{
  background:#28a745;
  color:#fff;
}
</style>
</head>

<body>

<header>Fajar Collection</header>

<div class="container">
  <button class="admin-btn" onclick="openAdmin()">âž• Add Product</button>
  <div class="products" id="products"></div>
</div>

<!-- ADMIN MODAL -->
<div class="modal" id="modal">
  <div class="modal-box">
    <h3>Add / Edit Product</h3>
    <input id="pname" placeholder="Product Name">
    <input id="pprice" placeholder="Price">
    <input id="pimage" placeholder="Image URL">
    <textarea id="pdesc" placeholder="Description"></textarea>
    <button class="btn save" onclick="saveProduct()">Save Product</button>
  </div>
</div>

<script>
const ADMIN_PASSWORD = "11222211";
const WHATSAPP_NUMBER = "923001234567"; // ðŸ” CHANGE NUMBER

let editId = null;

function openAdmin(){
  let pass = prompt("Enter upload password");
  if(pass === ADMIN_PASSWORD){
    editId = null;
    clearForm();
    document.getElementById("modal").style.display = "flex";
  }else{
    alert("Wrong password âŒ");
  }
}

function clearForm(){
  pname.value="";
  pprice.value="";
  pimage.value="";
  pdesc.value="";
}

function saveProduct(){
  let products = JSON.parse(localStorage.getItem("products")) || [];

  if(editId){
    let p = products.find(x=>x.id===editId);
    p.name=pname.value;
    p.price=pprice.value;
    p.image=pimage.value;
    p.desc=pdesc.value;
  }else{
    products.push({
      id:Date.now(),
      name:pname.value,
      price:pprice.value,
      image:pimage.value,
      desc:pdesc.value
    });
  }

  localStorage.setItem("products",JSON.stringify(products));
  document.getElementById("modal").style.display="none";
  loadProducts();
}

function loadProducts(){
  let products = JSON.parse(localStorage.getItem("products")) || [];
  let box = document.getElementById("products");
  box.innerHTML="";

  products.forEach(p=>{
    box.innerHTML += `
      <div class="card">
        <img src="${p.image}">
        <h3>${p.name}</h3>
        <div class="price">Rs ${p.price}</div>
        <p>${p.desc || ""}</p>
        <button class="btn buy" onclick="buy('${p.name}')">Buy Now</button>
        <button class="btn edit" onclick="editProduct(${p.id})">Edit</button>
        <button class="btn delete" onclick="deleteProduct(${p.id})">Delete</button>
      </div>
    `;
  });
}

function buy(name){
  let msg = encodeURIComponent("I want to buy this product: "+name);
  window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`);
}

function editProduct(id){
  let products = JSON.parse(localStorage.getItem("products")) || [];
  let p = products.find(x=>x.id===id);
  editId=id;
  pname.value=p.name;
  pprice.value=p.price;
  pimage.value=p.image;
  pdesc.value=p.desc;
  document.getElementById("modal").style.display="flex";
}

function deleteProduct(id){
  if(confirm("Delete product?")){
    let products = JSON.parse(localStorage.getItem("products")) || [];
    products = products.filter(p=>p.id!==id);
    localStorage.setItem("products",JSON.stringify(products));
    loadProducts();
  }
}

window.onclick=e=>{
  if(e.target.id==="modal") modal.style.display="none";
}

loadProducts();
</script>

</body>
</html>